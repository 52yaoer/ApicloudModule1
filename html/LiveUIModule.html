<!DOCTYPE html>
<html>
	<head>
		<title>Module Develop</title>
		<meta charset="utf-8">
		<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
		<style type="text/css">
			html, body {
				height: 100%
			}
			body {
				background-color: #FF979C9C;
				margin: 0;
			}
			#wrap {
				height: 100%;
				position: relative;
			}
			#header {
				padding-top: 20px;
				background-color: #5082c2;
				height: 44px;
				position: relative;
			}
			#header h1 {
				font-size: 20px;
				height: 44px;
				line-height: 44px;
				margin: 0em;
				color: #fff;
				margin-left: 100px;
				margin-right: 100px;
				text-align: center;
			}
			#main {
				display: -webkit-box;
				-webkit-box-orient: vertical;
				-webkit-box-pack: center;
			}
			a.button {
				display: -webkit-box;
				-webkit-box-orient: vertical;
				-webkit-box-pack: center;
				-webkit-box-align: center;
				height: 32px;
				margin: 8px;
				background-color: rgba(240,240,240,1.0);
				border-color: rgba(220,220,220,1.0);
				border-width: 2px;
				border-style: solid;
			}
			a.active {
				background-color: rgba(240,240,240,0.7);
			}
		</style>
	</head>
	<body>
		<div id="wrap">
			<div id="main">
				<a class="button" tapmode="active" onclick="openLiveUI()">æ‰“å¼€ç›´æ’­UI</a>
				<a class="button" tapmode="active" onclick="addUserInfo()">ç”¨æˆ·åŠ å…¥</a>
				<a class="button" tapmode="active" onclick="addUserInfoList()">æ‰¹é‡æ·»åŠ ç”¨æˆ·</a>
				<a class="button" tapmode="active" onclick="setMemberCounts()">è®¾ç½®è§‚çœ‹äººæ•°</a>
				<a class="button" tapmode="active" onclick="isShowGuanZhuBtn()">è®¾ç½®å…³æ³¨æŒ‰é’®</a>
				<a class="button" tapmode="active" onclick="delUserInfo()">ç”¨æˆ·é€€å‡º</a>
				<a class="button" tapmode="active" onclick="showDanmu()">å‘é€å¼¹å¹•</a>
				<a class="button" tapmode="active" onclick="showMessage()">æ˜¾ç¤ºæ¶ˆæ¯</a>
				<a class="button" tapmode="active" onclick="showMessageList()">æ‰¹é‡æ˜¾ç¤ºæ¶ˆæ¯</a>
				<a class="button" tapmode="active" onclick="showSystemMessage()">ç³»ç»Ÿæ¶ˆæ¯</a>
				<a class="button" tapmode="active" onclick="clearMessage()">æ¸…ç©ºæ¶ˆæ¯åˆ—è¡¨</a>
				<a class="button" tapmode="active" onclick="hiddenLiveUI()">éšè—ç›´æ’­UI</a>
				<a class="button" tapmode="active" onclick="showLiveUI()">æ˜¾ç¤ºç›´æ’­UI</a>
				<a class="button" tapmode="active" onclick="closeLiveUI()">å…³é—­ç›´æ’­UI</a>
				<a class="button" tapmode="active" onclick="settingUI()">å¼¹å¹•å’Œæ¶ˆæ¯æ˜¾ç¤ºè®¾ç½®</a>
			</div>
		</div>
	</body>
	<script type="text/javascript">
		var demo = null;
		apiready = function() {
			demo = api.require('liveUI');
			if (!demo) {
				alert("è¯·æ·»åŠ æ¨¡å—åç¼–è¯‘");
				return;
			}
		}
		var uid = "";
		
		function setMemberCounts(){
			demo.setMemberCounts({
				memberCounts : 99999//è§‚çœ‹äººæ•°
			}, function(ret, err) {
				api.toast({msg : JSON.stringify(ret)+"  "+JSON.stringify(err)});
			});
		}
		
		function addUserInfoList(){
			var userList = new Array();
			for(var i =0;i<5;i++){
				var data1 = {
					uid : i,//ç”¨æˆ·id
					nickname : "å°æ°”é¬¼"+new Date().getTime(),//ç”¨æˆ·åç§°
					headpic : "widget://image/mac.png",//ç”¨æˆ·å¤´åƒ
					starpic : "widget://image/icon_live_toolbar_send_star.png"//ç­‰çº§å›¾æ ‡
				};
				userList.push(data1);
			}
			demo.addUserInfoList({
				userList : userList
			}, function(ret, err) {
				api.toast({msg : JSON.stringify(ret)+"  "+JSON.stringify(err)});
			});
		}
		
		
		
		function openLiveUI() {
			var userList = new Array();
			var msgList = new Array();
		
			for(var i =0;i<5;i++){
				var data1 = {
					uid : i,//ç”¨æˆ·id
					nickname : "å°æ°”é¬¼"+new Date().getTime(),//ç”¨æˆ·åç§°
					headpic : "widget://image/mac.png",//ç”¨æˆ·å¤´åƒ
					starpic : "widget://image/icon_live_toolbar_send_star.png"//ç­‰çº§å›¾æ ‡
				};
				userList.push(data1);
				
				var data = {
					uid : i,//ç”¨æˆ·id
					//startlogo : "widget://image/listview_messgae_line_star.png", delete 20170305
					startnum : 1,
					nickname : "å°æ°”é¬¼"+new Date().getTime(),
					nicknameColor : "#BA55D3",
					message : "ğŸğŸğŸ â˜•ï¸â˜•ï¸â˜•ï¸ğŸ˜ğŸ˜  å¯ä»¥è¯•è¯•æ¶ˆæ¯èƒ½ä¸èƒ½å‘é€emjoæ ‡æ¸…",
					messageColor : "#DDA0DD"
				};
				
				msgList.push(data);
			}
		
			var param = {
				roomName : "æ˜ ç¥¨:9116683", //æˆ¿é—´åç§°
				uid : 12333, //ç”¨æˆ·id
				name : "ç›´æ’­",//ç”¨æˆ·åç§°æˆ–è€…ç›´æ’­åç§°
				headpic : "widget://image/mac.png", //ç”¨æˆ·å¤´åƒæˆ–è€…ç›´æ’­æˆ¿é—´å¤´åƒ
				starpic : "widget://image/icon_live_toolbar_send_star.png",//ç­‰çº§å›¾æ ‡
				isDanmu : true,//æ˜¯å¦å¼€å¯å¼¹å¹•
				isImmerse : true,//APPæ˜¯å¦å¼€å¯ æ²‰æµ¸å¼
				isShowGuanZhuBtn : true,//æ˜¯å¦æ˜¾ç¤ºå…³æ³¨æŒ‰é’®
				memberCounts : 100,//è§‚çœ‹äººæ•°
				userList : userList,
				messageList : msgList,
				fixedOn : api.frameName,
				fixed : true
			};
			demo.openLiveUI(param, function(ret, err) {
				api.toast({msg : JSON.stringify(ret)+"  "+JSON.stringify(err)});
			});
		}
		var temp1 = true;
		function isShowGuanZhuBtn(){
			var param = {
				isShowGuanZhuBtn : temp1,
			};
			demo.isShowGuanZhuBtn(param, function(ret, err) {
				temp1 = !temp1;
				api.toast({msg : JSON.stringify(ret)+"  "+JSON.stringify(err)});
			});
		}
		function addUserInfo() {
			var param = {
				uid : new Date().getTime(),//ç”¨æˆ·id
				nickname : "å°æ°”é¬¼"+new Date().getTime(),//ç”¨æˆ·åç§°
				headpic : "widget://image/mac.png",//å¤´åƒå›¾ç‰‡
				starpic : "widget://image/icon_live_toolbar_send_star.png",//ç­‰çº§å›¾ç‰‡
				
				isJoinView : temp,  //æ˜¯å¦æ˜¾ç¤ºé—ªäº®ç™»åœºæ¶ˆæ¯æ¡† é»˜è®¤ false æ˜¾ç¤ºï½œtrue éšè—
				backgroundPic : "widget://image/listview_messgage_jion_background.png",//é—ªäº®ç™»åœºçš„èƒŒæ™¯å›¾ç‰‡
				//startlogo : "widget://image/listview_messgae_line_star.png",//è¿›å…¥ç­‰çº§å›¾ç‰‡ delete 20170305
				startnum : 99,//ç­‰çº§
				//backgroundColor : "#DDA0DD", //ç­‰çº§èƒŒæ™¯é¢œè‰² delete 20170305
				nicknameColor : "#B03060",//ç”¨æˆ·åç§°å­—ä½“é¢œè‰²
				message : "é—ªäº®ç™»åœº",//æ¶ˆæ¯å†…å®¹
				messageColor : "#836FFF"//æ¶ˆæ¯å­—ä½“é¢œè‰²
			};
			demo.addUserInfo(param, function(ret, err) {
				api.toast({msg : JSON.stringify(ret)+"  "+JSON.stringify(err)});
				uid = ret.uid;
			});
		}

		function delUserInfo() {
			var param = {
				uid : uid,
				nickname : "å°æ°”é¬¼"+new Date().getTime()  //ç”¨æˆ·id
			};
			var resultCallback = function(ret, err) {
				api.toast({msg : JSON.stringify(ret)+"  "+JSON.stringify(err)});
			}
			demo.delUserInfo(param, resultCallback);
		}

		function showDanmu() {
			var param = {
				nickname : "å°æ°”é¬¼",  //ç”¨æˆ·åç§°
				headpic : "widget://image/mac.png", //ç”¨æˆ·å¤´åƒ
				starpic : "widget://image/icon_live_toolbar_send_star.png",//ç­‰çº§å›¾ç‰‡
				message : "ğŸğŸğŸ â˜•ï¸â˜•ï¸â˜•ï¸ğŸ˜ğŸ˜  å¯ä»¥è¯•è¯•æ¶ˆæ¯èƒ½ä¸èƒ½å‘é€emjoæ ‡æ¸…" + new Date().getTime()  //å¼¹å¹•æ¶ˆæ¯å†…å®¹
			};
			demo.showDanmu(param, function(ret, err) {
				api.toast({msg : JSON.stringify(ret)+"  "+JSON.stringify(err)});
			});
		}

		function showMessage() {
			var param = {
				uid : new Date().getTime(),//ç”¨æˆ·id
				//startlogo : "widget://image/listview_messgae_line_star.png", //ç­‰çº§å›¾ç‰‡ delete 20170305
				startnum : 1,  //ç­‰çº§
				//backgroundColor : "#DDA0DD", //ç­‰çº§èƒŒæ™¯é¢œè‰² delete 20170305
				nickname : "å°æ°”é¬¼"+new Date().getTime(),//ç”¨æˆ·åç§°
				nicknameColor : "#BA55D3",//ç”¨æˆ·åç§°å­—ä½“é¢œè‰²
				message : "ğŸğŸğŸ â˜•ï¸â˜•ï¸â˜•ï¸ğŸ˜ğŸ˜  å¯ä»¥è¯•è¯•æ¶ˆæ¯èƒ½ä¸èƒ½å‘é€emjoæ ‡æ¸…",//æ¶ˆæ¯
				messageColor : "#DDA0DD"//æ¶ˆæ¯å­—ä½“é¢œè‰²
			};
			demo.showMessage(param, function(ret, err) {
				api.toast({msg : JSON.stringify(ret)+"  "+JSON.stringify(err)});
			});
		}
		
		function showMessageList() {
			var messageList = new Array();
			for(var i =0;i<5;i++){
				var data1 = {
					uid : new Date().getTime(),//ç”¨æˆ·id
					startnum : 1,  //ç­‰çº§
					nickname : "å°æ°”é¬¼"+new Date().getTime(),//ç”¨æˆ·åç§°
					nicknameColor : "#BA55D3",//ç”¨æˆ·åç§°å­—ä½“é¢œè‰²
					message : "ğŸğŸğŸ â˜•ï¸â˜•ï¸â˜•ï¸ğŸ˜ğŸ˜  å¯ä»¥è¯•è¯•æ¶ˆæ¯èƒ½ä¸èƒ½å‘é€emjoæ ‡æ¸…",//æ¶ˆæ¯
					messageColor : "#DDA0DD"//æ¶ˆæ¯å­—ä½“é¢œè‰²
				};
				messageList.push(data1);
			}
			demo.showMessageList({
				messageList : messageList
			}, function(ret, err) {
				api.toast({msg : JSON.stringify(ret)+"  "+JSON.stringify(err)});
			});
		}
		
		function showSystemMessage() {
			var param = {
				title : "ç›´æ’­æ¶ˆæ¯ï¼š",//æ ‡é¢˜
				titleColor : "#BA55D3",//æ ‡é¢˜é¢œè‰²
				message : "å“²å®å®å…¥ä½è´¡çŒ®æ¦œï¼Œç©ºé™å¤´ç­‰èˆ±",//æ¶ˆæ¯
				messageColor : "#DDA0DD"//æ¶ˆæ¯å­—ä½“é¢œè‰²
			};
			demo.showSystemMessage(param, function(ret, err) {
				api.toast({msg : JSON.stringify(ret)+"  "+JSON.stringify(err)});
			});
		}

		function clearMessage() {
			demo.clearMessage(function(ret, err) {
				api.toast({msg : JSON.stringify(ret)+"  "+JSON.stringify(err)});
			});
		}

		function hiddenLiveUI() {
			demo.hiddenLiveUI(function(ret, err) {
				api.toast({msg : JSON.stringify(ret)+"  "+JSON.stringify(err)});
			});
		}

		function showLiveUI() {
			demo.showLiveUI(function(ret, err) {
				api.toast({msg : JSON.stringify(ret)+"  "+JSON.stringify(err)});
			});
		}

		function closeLiveUI() {
			demo.closeLiveUI(function(ret, err) {
				api.toast({msg : JSON.stringify(ret)+"  "+JSON.stringify(err)});
			});
		}

		var temp = true;
		function settingUI() {
			var param = {
				isDanmuView : temp, //å¼¹å¹•æ˜¾ç¤ºå±‚æ˜¯å¦éšè— é»˜è®¤ false æ˜¾ç¤ºï½œtrue éšè—
				isMessageView : !temp, //æ¶ˆæ¯æ˜¾ç¤ºå±‚æ˜¯å¦éšè— é»˜è®¤ false æ˜¾ç¤ºï½œtrue éšè—
				isJoinView : temp  //æ˜¯å¦æ˜¾ç¤ºé—ªäº®ç™»åœºæ¶ˆæ¯æ¡† é»˜è®¤ false æ˜¾ç¤ºï½œtrue éšè—
			};
			demo.settingUI(param, function(ret, err) {
				temp = !temp;
				api.toast({msg : JSON.stringify(ret)+"  "+JSON.stringify(err)});
			});
		}
	</script>
</html>